var t;function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),r.forEach(function(n){e(t,n,i[n])})}return t}t=function(){function t(t){return Array.isArray?Array.isArray(t):"[object Array]"===a(t)}function i(t){return"string"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t}function u(t){return null!=t}function l(t){return!t.trim().length}function a(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}let o=Object.prototype.hasOwnProperty;class c{get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=h(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}}function h(e){let n=null,r=null,s=null,u=1,l=null;if(i(e)||t(e))s=e,n=d(e),r=f(e);else{if(!o.call(e,"name"))throw Error("Missing name property in key");let t=e.name;if(s=t,o.call(e,"weight")&&(u=e.weight)<=0)throw Error(`Property 'weight' in key '${t}' must be a positive integer`);n=d(t),r=f(t),l=e.getFn}return{path:n,id:r,weight:u,src:s,getFn:l}}function d(e){return t(e)?e:e.split(".")}function f(e){return t(e)?e.join("."):e}var g,p,m=n({},{isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{location:0,threshold:.6,distance:100},{useExtendedSearch:!1,getFn:function(e,n){let l=[],o=!1,c=(e,n,h)=>{if(u(e))if(n[h]){var d,f;let g=e[n[h]];if(!u(g))return;if(h===n.length-1&&(i(g)||r(g)||!0===(d=g)||!1===d||s(f=d)&&null!==f&&"[object Boolean]"==a(d)))l.push(null==g?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(g));else if(t(g)){o=!0;for(let t=0,e=g.length;t<e;t+=1)c(g[t],n,h+1)}else n.length&&c(g,n,h+1)}else l.push(e)};return c(e,i(n)?n.split("."):n,0),o?l:l[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1});let w=/[^ ]+/g;class y{setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,i(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){let e=this.size();i(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!u(t)||l(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((n,s)=>{let a=n.getFn?n.getFn(e):this.getFn(e,n.path);if(u(a)){if(t(a)){let e=[],n=[{nestedArrIndex:-1,value:a}];for(;n.length;){let{nestedArrIndex:r,value:s}=n.pop();if(u(s))if(i(s)&&!l(s)){let t={v:s,i:r,n:this.norm.get(s)};e.push(t)}else t(s)&&s.forEach((t,e)=>{n.push({nestedArrIndex:e,value:t})})}r.$[s]=e}else if(i(a)&&!l(a)){let t={v:a,n:this.norm.get(a)};r.$[s]=t}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}constructor({getFn:t=m.getFn,fieldNormWeight:e=m.fieldNormWeight}={}){this.norm=function(t=1,e=3){let n=new Map,i=Math.pow(10,e);return{get(e){let r=e.match(w).length;if(n.has(r))return n.get(r);let s=parseFloat(Math.round(1/Math.pow(r,.5*t)*i)/i);return n.set(r,s),s},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}}function A(t,e,{getFn:n=m.getFn,fieldNormWeight:i=m.fieldNormWeight}={}){let r=new y({getFn:n,fieldNormWeight:i});return r.setKeys(t.map(h)),r.setSources(e),r.create(),r}function v(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:r=m.distance,ignoreLocation:s=m.ignoreLocation}={}){let u=e/t.length;if(s)return u;let l=Math.abs(i-n);return r?u+l/r:l?1:u}let E=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class C{searchIn(t){let{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=e?t:t.toLowerCase(),t=n?E(t):t,this.pattern===t){let e={isMatch:!0,score:0};return i&&(e.indices=[[0,t.length-1]]),e}let{location:r,distance:s,threshold:u,findAllMatches:l,minMatchCharLength:a,ignoreLocation:o}=this.options,c=[],h=0,d=!1;this.chunks.forEach(({pattern:e,alphabet:n,startIndex:f})=>{let{isMatch:g,score:p,indices:w}=function(t,e,n,{location:i=m.location,distance:r=m.distance,threshold:s=m.threshold,findAllMatches:u=m.findAllMatches,minMatchCharLength:l=m.minMatchCharLength,includeMatches:a=m.includeMatches,ignoreLocation:o=m.ignoreLocation}={}){let c;if(e.length>32)throw Error("Pattern length exceeds max of 32.");let h=e.length,d=t.length,f=Math.max(0,Math.min(i,d)),g=s,p=f,w=l>1||a,y=w?Array(d):[];for(;(c=t.indexOf(e,p))>-1;)if(g=Math.min(v(e,{currentLocation:c,expectedLocation:f,distance:r,ignoreLocation:o}),g),p=c+h,w){let t=0;for(;t<h;)y[c+t]=1,t+=1}p=-1;let A=[],E=1,C=h+d,k=1<<h-1;for(let i=0;i<h;i+=1){let s=0,l=C;for(;s<l;)v(e,{errors:i,currentLocation:f+l,expectedLocation:f,distance:r,ignoreLocation:o})<=g?s=l:C=l,l=Math.floor((C-s)/2+s);C=l;let a=Math.max(1,f-l+1),c=u?d:Math.min(f+l,d)+h,m=Array(c+2);m[c+1]=(1<<i)-1;for(let s=c;s>=a;s-=1){let u=s-1,l=n[t.charAt(u)];if(w&&(y[u]=+!!l),m[s]=(m[s+1]<<1|1)&l,i&&(m[s]|=(A[s+1]|A[s])<<1|1|A[s+1]),m[s]&k&&(E=v(e,{errors:i,currentLocation:u,expectedLocation:f,distance:r,ignoreLocation:o}))<=g){if(g=E,(p=u)<=f)break;a=Math.max(1,2*f-p)}}if(v(e,{errors:i+1,currentLocation:f,expectedLocation:f,distance:r,ignoreLocation:o})>g)break;A=m}let D={isMatch:p>=0,score:Math.max(.001,E)};if(w){let t=function(t=[],e=m.minMatchCharLength){let n=[],i=-1,r=-1,s=0;for(let u=t.length;s<u;s+=1){let u=t[s];u&&-1===i?i=s:u||-1===i||((r=s-1)-i+1>=e&&n.push([i,r]),i=-1)}return t[s-1]&&s-i>=e&&n.push([i,s-1]),n}(y,l);t.length?a&&(D.indices=t):D.isMatch=!1}return D}(t,e,n,{location:r+f,distance:s,threshold:u,findAllMatches:l,minMatchCharLength:a,includeMatches:i,ignoreLocation:o});g&&(d=!0),h+=p,g&&w&&(c=[...c,...w])});let f={isMatch:d,score:d?h/this.chunks.length:1};return d&&i&&(f.indices=c),f}constructor(t,{location:e=m.location,threshold:n=m.threshold,distance:i=m.distance,includeMatches:r=m.includeMatches,findAllMatches:s=m.findAllMatches,minMatchCharLength:u=m.minMatchCharLength,isCaseSensitive:l=m.isCaseSensitive,ignoreDiacritics:a=m.ignoreDiacritics,ignoreLocation:o=m.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:i,includeMatches:r,findAllMatches:s,minMatchCharLength:u,isCaseSensitive:l,ignoreDiacritics:a,ignoreLocation:o},t=l?t:t.toLowerCase(),t=a?E(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;let c=(t,e)=>{this.chunks.push({pattern:t,alphabet:function(t){let e={};for(let n=0,i=t.length;n<i;n+=1){let r=t.charAt(n);e[r]=(e[r]||0)|1<<i-n-1}return e}(t),startIndex:e})},h=this.pattern.length;if(h>32){let t=0,e=h%32,n=h-e;for(;t<n;)c(this.pattern.substr(t,32),t),t+=32;if(e){let t=h-32;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}}class k{static isMultiMatch(t){return D(t,this.multiRegex)}static isSingleMatch(t){return D(t,this.singleRegex)}search(){}constructor(t){this.pattern=t}}function D(t,e){let n=t.match(e);return n?n[1]:null}class x extends k{static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}constructor(t,{location:e=m.location,threshold:n=m.threshold,distance:i=m.distance,includeMatches:r=m.includeMatches,findAllMatches:s=m.findAllMatches,minMatchCharLength:u=m.minMatchCharLength,isCaseSensitive:l=m.isCaseSensitive,ignoreDiacritics:a=m.ignoreDiacritics,ignoreLocation:o=m.ignoreLocation}={}){super(t),this._bitapSearch=new C(t,{location:e,threshold:n,distance:i,includeMatches:r,findAllMatches:s,minMatchCharLength:u,isCaseSensitive:l,ignoreDiacritics:a,ignoreLocation:o})}}class _ extends k{static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0,i=[],r=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+r,i.push([e,n-1]);let s=!!i.length;return{isMatch:s,score:+!s,indices:i}}constructor(t){super(t)}}let b=[class extends k{static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let e=t===this.pattern;return{isMatch:e,score:+!e,indices:[0,this.pattern.length-1]}}constructor(t){super(t)}},_,class extends k{static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let e=t.startsWith(this.pattern);return{isMatch:e,score:+!e,indices:[0,this.pattern.length-1]}}constructor(t){super(t)}},class extends k{static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let e=!t.startsWith(this.pattern);return{isMatch:e,score:+!e,indices:[0,t.length-1]}}constructor(t){super(t)}},class extends k{static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let e=!t.endsWith(this.pattern);return{isMatch:e,score:+!e,indices:[0,t.length-1]}}constructor(t){super(t)}},class extends k{static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let e=t.endsWith(this.pattern);return{isMatch:e,score:+!e,indices:[t.length-this.pattern.length,t.length-1]}}constructor(t){super(t)}},class extends k{static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let e=-1===t.indexOf(this.pattern);return{isMatch:e,score:+!e,indices:[0,t.length-1]}}constructor(t){super(t)}},x],B=b.length,F=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,L=new Set([x.type,_.type]),S=[];function M(t,e){for(let n=0,i=S.length;n<i;n+=1){let i=S[n];if(i.condition(t,e))return new i(t,e)}return new C(t,e)}let O={AND:"$and",OR:"$or"},I={PATH:"$path",PATTERN:"$val"},j=t=>!!(t[O.AND]||t[O.OR]),R=t=>({[O.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function T(e,n,{auto:r=!0}={}){let u=e=>{let l=Object.keys(e),a=!!e[I.PATH];if(!a&&l.length>1&&!j(e))return u(R(e));if(!t(e)&&s(e)&&!j(e)){let t=a?e[I.PATH]:l[0],s=a?e[I.PATTERN]:e[t];if(!i(s))throw Error(`Invalid value for key ${t}`);let u={keyId:f(t),pattern:s};return r&&(u.searcher=M(s,n)),u}let o={children:[],operator:l[0]};return l.forEach(n=>{let i=e[n];t(i)&&i.forEach(t=>{o.children.push(u(t))})}),o};return j(e)||(e=R(e)),u(e)}function P(t,e){let n=t.matches;e.matches=[],u(n)&&n.forEach(t=>{if(!u(t.indices)||!t.indices.length)return;let{indices:n,value:i}=t,r={indices:n,value:i};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)})}function $(t,e){e.score=t.score}class N{setCollection(t,e){if(this._docs=t,e&&!(e instanceof y))throw Error("Incorrect 'index' type");this._myIndex=e||A(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){u(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let e=[];for(let n=0,i=this._docs.length;n<i;n+=1){let r=this._docs[n];t(r,n)&&(this.removeAt(n),n-=1,i-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){let{includeMatches:n,includeScore:s,shouldSort:u,sortFn:l,ignoreFieldNorm:a}=this.options,o=i(t)?i(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return!function(t,{ignoreFieldNorm:e=m.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:i,score:r})=>{let s=t?t.weight:null;n*=Math.pow(0===r&&s?Number.EPSILON:r,(s||1)*(e?1:i))}),t.score=n})}(o,{ignoreFieldNorm:a}),u&&o.sort(l),r(e)&&e>-1&&(o=o.slice(0,e)),function(t,e,{includeMatches:n=m.includeMatches,includeScore:i=m.includeScore}={}){let r=[];return n&&r.push(P),i&&r.push($),t.map(t=>{let{idx:n}=t,i={item:e[n],refIndex:n};return r.length&&r.forEach(e=>{e(t,i)}),i})}(o,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){let e=M(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:t,i:n,n:r})=>{if(!u(t))return;let{isMatch:s,score:l,indices:a}=e.searchIn(t);s&&i.push({item:t,idx:n,matches:[{score:l,value:t,norm:r,indices:a}]})}),i}_searchLogical(t){let e=T(t,this.options),n=(t,e,i)=>{if(!t.children){let{keyId:n,searcher:r}=t,s=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:r});return s&&s.length?[{idx:i,item:e,matches:s}]:[]}let r=[];for(let s=0,u=t.children.length;s<u;s+=1){let u=n(t.children[s],e,i);if(u.length)r.push(...u);else if(t.operator===O.AND)return[]}return r},i=this._myIndex.records,r={},s=[];return i.forEach(({$:t,i:i})=>{if(u(t)){let u=n(e,t,i);u.length&&(r[i]||(r[i]={idx:i,item:t,matches:[]},s.push(r[i])),u.forEach(({matches:t})=>{r[i].matches.push(...t)}))}}),s}_searchObjectList(t){let e=M(t,this.options),{keys:n,records:i}=this._myIndex,r=[];return i.forEach(({$:t,i:i})=>{if(!u(t))return;let s=[];n.forEach((n,i)=>{s.push(...this._findMatches({key:n,value:t[i],searcher:e}))}),s.length&&r.push({idx:i,item:t,matches:s})}),r}_findMatches({key:e,value:n,searcher:i}){if(!u(n))return[];let r=[];if(t(n))n.forEach(({v:t,i:n,n:s})=>{if(!u(t))return;let{isMatch:l,score:a,indices:o}=i.searchIn(t);l&&r.push({score:a,key:e,value:t,idx:n,norm:s,indices:o})});else{let{v:t,n:s}=n,{isMatch:u,score:l,indices:a}=i.searchIn(t);u&&r.push({score:l,key:e,value:t,norm:s,indices:a})}return r}constructor(t,e={},i){this.options=n({},m,e),this.options.useExtendedSearch,this._keyStore=new c(this.options.keys),this.setCollection(t,i)}}N.version="7.1.0",N.createIndex=A,N.parseIndex=function(t,{getFn:e=m.getFn,fieldNormWeight:n=m.fieldNormWeight}={}){let{keys:i,records:r}=t,s=new y({getFn:e,fieldNormWeight:n});return s.setKeys(i),s.setIndexRecords(r),s},N.config=m,N.parseQuery=T,function(...t){S.push(...t)}(class{static condition(t,e){return e.useExtendedSearch}searchIn(t){let e=this.query;if(!e)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:r}=this.options;t=i?t:t.toLowerCase(),t=r?E(t):t;let s=0,u=[],l=0;for(let i=0,r=e.length;i<r;i+=1){let r=e[i];u.length=0,s=0;for(let e=0,i=r.length;e<i;e+=1){let i=r[e],{isMatch:a,indices:o,score:c}=i.search(t);if(a){if(s+=1,l+=c,n){let t=i.constructor.type;L.has(t)?u=[...u,...o]:u.push(o)}}else{l=0,s=0,u.length=0;break}}if(s){let t={isMatch:!0,score:l/s};return n&&(t.indices=u),t}}return{isMatch:!1,score:1}}constructor(t,{isCaseSensitive:e=m.isCaseSensitive,ignoreDiacritics:n=m.ignoreDiacritics,includeMatches:i=m.includeMatches,minMatchCharLength:r=m.minMatchCharLength,ignoreLocation:s=m.ignoreLocation,findAllMatches:u=m.findAllMatches,location:l=m.location,threshold:a=m.threshold,distance:o=m.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:r,findAllMatches:u,ignoreLocation:s,location:l,threshold:a,distance:o},t=e?t:t.toLowerCase(),t=n?E(t):t,this.pattern=t,this.query=function(t,e={}){return t.split("|").map(t=>{let n=t.trim().split(F).filter(t=>t&&!!t.trim()),i=[];for(let t=0,r=n.length;t<r;t+=1){let r=n[t],s=!1,u=-1;for(;!s&&++u<B;){let t=b[u],n=t.isMultiMatch(r);n&&(i.push(new t(n,e)),s=!0)}if(!s)for(u=-1;++u<B;){let t=b[u],n=t.isSingleMatch(r);if(n){i.push(new t(n,e));break}}}return i})}(this.pattern,this.options)}});class q{get value(){return this._val}set value(t){for(let e of(this._val=t,this._watchers))e.fn(t),e.time--;this._watchers=this._watchers.filter(t=>t.time>0)}watch(t,e=1/0){this._watchers.push({fn:t,time:e})}watchOnce(t){this._watchers.push({fn:t,time:1})}async nextVal(){return new Promise(t=>{this.watchOnce(()=>t(this.value))})}_checkin(t){for(let e of t)if(null==e&&null==this._val||this._val===e)return!0;return!1}async unitl(...t){for(;!this._checkin(t);)await this.nextVal();return this.value}async unitlNot(...t){for(;this._checkin(t);)await this.nextVal();return this.value}constructor(t){e(this,"_val",void 0),e(this,"_watchers",[]),this._val=t}}let W={get base(){var U,z;return null!=(z=null==(U=document.getElementById("site_data_static"))?void 0:U.dataset.url)?z:"/"},get root(){return new URL(this.base,window.location.origin)},url_for(t){return"/"===t[0]&&(t=t.slice(1)),this.root+t}};class H{async data(){return await this.loaded.unitl(!0),this.__data}constructor(t,n=t=>t){e(this,"loaded",new q(!1)),e(this,"__data",null),("string"==typeof t?fetch(W.url_for(t)).then(t=>t.json()):t).then(t=>{this.loaded.value=!0,this.__data=n(t)})}}function V(t,e,...n){let[i,...r]=t.split(".");i||(i="div");let s=document.createElement(i);if(s.classList.add(...r),null!=e)for(let[t,n]of Object.entries(e))"class"===t&&e.class?s.classList.add(...e.class.split(" ")):t.startsWith("on")?s.addEventListener(t.slice(2),n):s.setAttribute(t,n);return n.flat().forEach(t=>{"string"==typeof t?s.innerHTML+=t:t instanceof Element&&s.appendChild(t)}),s}function K(t){return String(t).replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[t]||t)}function G(){try{document.querySelectorAll(".friend-link").forEach(t=>{t.replaceWith((({avatar:t,href:e,title:n,description:i})=>V("div",{class:"friend-link-container"},V("div",{class:"friend-link-box"},V("aside",{class:"friend-link-avatar"},V("img",{src:t,href:e})),V("div",{class:"friend-link-meta"},V("div",{class:"friend-link-title"},V("a",{href:e},K(n))),V("div",{class:"friend-link-description"},K(i))))))(t.dataset))})}catch(t){console.error(t)}}function Y(t){setTimeout(()=>{t()},10)}var J=Object.freeze({__proto__:null,copyToClipboard:async function(t){try{await window.navigator.clipboard.writeText(t)}catch(n){let e=document.createElement("textarea");e.value=t,e.style.width="0",e.style.position="fixed",e.style.left="-999px",e.style.top="10px",e.setAttribute("readonly","readonly"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}finally{new Promise(t=>{let e=document.getElementById("success-indicator");null==e||e.classList.add("show"),setTimeout(()=>{null==e||e.classList.add("animated","fadeOut")},500),setTimeout(()=>{null==e||e.classList.remove("show","animated","fadeOut"),t()},1e3)})}},escapeHTML:K,h:V,make_friends_list:G,nextTick:Y});class Q{init(){}constructor(){document.addEventListener("DOMContentLoaded",()=>{this.init()},{once:!0})}}let X=new Map,Z=new H("site.json");Z.data().then(t=>{var e,n;for(let i of["pages","posts","tags","categories"])for(let r of null!=(e=t[i])?e:[]){let t=(null==(n=r.path)?void 0:n.replaceAll("index.html",""))||"";X.set(t,r)}});let tt=(g=n({},W),p=p={data:()=>Z.data(),thisPageUrl(){let t=window.location.pathname;return t.startsWith("/")&&(t=t.slice(1)),"/"!==t.slice(-1)&&(t+="/"),t=decodeURI(t)},thisPage:async()=>(await tt.data(),X.get(tt.thisPageUrl()))},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(p)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n.push.apply(n,i)}return n})(Object(p)).forEach(function(t){Object.defineProperty(g,t,Object.getOwnPropertyDescriptor(p,t))}),g);async function te(t){t.url&&(t.script=await fetch(t.url).then(t=>t.text())),t.script&&Function(t.script)()}class tn extends Error{constructor(t){super(),e(this,"url",void 0),this.url=t}}let ti=[],tr=new Map,ts=new q(!1),tu=new q(!1);function tl(t){return!!t&&((t+="/").startsWith(tt.root.href)||t.startsWith(tt.base))}function ta(t){var e;if(null==t&&(t=window.location.hash),!t)return;let n=decodeURI(t).slice(1),i=document.getElementById(n);i&&window.scrollTo({left:0,top:i.offsetTop+((null==(e=i.offsetParent)?void 0:e.offsetTop)||0)-80,behavior:"smooth"})}function to(){return{url:document.location.href,body:document.getElementsByTagName("main-outlet")[0].innerHTML,title:document.title,scrollY:window.scrollY}}function tc(){tr.set(document.location.href,to())}async function th(t){tu.value=!0,ts.value=!0,setTimeout(()=>{ts.value=!1},250);let e=document.querySelector(".main.animated");null==e||e.classList.add("fadeOutDown"),null==e||e.classList.remove("fadeInDown"),await t();let n=document.querySelector(".main.animated");null==n||n.classList.remove("fadeOutDown"),null==n||n.classList.add("fadeInDown"),tu.value=!1}async function td(t){var e,n,i;let r=tr.get(t);if(r)return r;let s=await fetch(t).then(t=>t.text());if("string"!=typeof s)throw new tn(t);let u=null==(e=s.match(/<main-outlet>([\s\S]*)<\/main-outlet>/))?void 0:e[1];if(!u)throw new tn(t);let l=null==(n=s.match(/<head>([\s\S]*)<\/head>/))?void 0:n[1],a=null==l||null==(i=l.match(/<title>([\s\S]*)<\/title>/))?void 0:i[1];return{url:t,body:u,title:null!=a?a:a=document.title}}async function tf({body:t,title:e,url:n,scrollY:i},r=!0){tc(),await ts.unitl(!1),r&&history.pushState({time:new Date,url:n},"",n),document.querySelector("main-outlet").innerHTML=t,document.title=e;var s={url:document.location.href,body:t,title:e};let u=tr.get(s.url);u?Object.assign(u,s):tr.set(s.url,s),tp();let l=document.getElementsByClassName("sidebar")[0].clientHeight-40;i?window.scrollTo({left:0,top:i}):window.innerWidth>960||window.location.href===tt.url_for("/")||window.location.href.slice(0,-1)===tt.url_for("/")?window.scrollTo({left:0,top:0,behavior:"smooth"}):window.scrollTo({left:0,top:l})}async function tg(t,e){await th(async()=>{e&&tc();let n=await td(t.href);await tf(n,e)}),tp()}function tp(){ta(),function(){var t,e;for(let n of null!=(e=null==(t=document.querySelector("main-outlet"))?void 0:t.getElementsByTagName("script"))?e:[])te({url:n.src,script:n.textContent})}(),ti.forEach(t=>{try{t()}catch(t){console.error(t)}})}async function tm(t,e=!0){if(t)if(tl(t)){let n=new URL(t,window.location.origin);e&&n.pathname===window.location.pathname?(history.replaceState({time:new Date},document.title,t),ta(n.hash)):tg(n,e).catch(t=>{if(404===t.status||t instanceof tn){window.location.href=t.url;return}console.error(t),alert(t),tf(to(),!1)})}else window.location.href=t}window.history.scrollRestoration="manual",window.addEventListener("DOMContentLoaded",()=>{tp()}),window.addEventListener("popstate",t=>{t.preventDefault(),tm(window.location.href,!1)},!1),document.addEventListener("click",t=>{let e=t.target;for(;e;){if(e.onclick)return;tl(e.href)&&(t.preventDefault(),t.stopPropagation(),tm(e.href,!0)),e=e.parentNode}});let tw=function(t){ti.push(t)};tw(G);let ty=["posts","pages","tags","categories"],tA=null;async function tv(t=3){if(!tA)return;let e=(await tD.getPageTitle()).slice(0,50);if(e){var n,i,r;if((null==(n=tA.valine)?void 0:n.enable)&&window.Valine&&new window.Valine({el:"#vcomments",notify:tA.valine.notify||!1,verify:tA.valine.verify||!1,app_id:tA.valine.appid,app_key:tA.valine.appkey,placeholder:tA.valine.placeholder,path:window.location.pathname,serverURLs:tA.valine.serverURLs,visitor:!0,recordIP:!0,avatar:tA.valine.avatar}),(null==(i=tA.gitment)?void 0:i.enable)&&window.Gitment){var s={id:e,owner:tA.gitment.owner,repo:tA.gitment.repo,oauth:{client_id:tA.gitment.client_id,client_secret:tA.gitment.client_secret}};""!=tA.gitment.id&&(s.id=tA.gitment.id),new window.Gitment(s).render("gitment_container")}(null==(r=tA.gitalk)?void 0:r.enable)&&window.Gitalk&&new window.Gitalk({clientID:tA.gitalk.client_id,clientSecret:tA.gitalk.client_secret,repo:tA.gitalk.repo,owner:tA.gitalk.owner,admin:[tA.gitalk.owner],id:e,distractionFreeMode:!1}).render("gitalk_container")}}tw(()=>tv().catch(()=>{}));var tE=Object.freeze({__proto__:null,load:tv,setConfig:function(t){tA=t}});function tC(){let t=localStorage.getItem("theme");t&&document.querySelector("html").setAttribute("theme",t)}async function tk(){var t,e,n,i;return null!=(i=null!=(n=null==(t=await tt.thisPage())?void 0:t.title)?n:null==(e=document.querySelector("title"))?void 0:e.textContent)?i:""}tC();let tD={comment:tE,site:tt,search:new class extends Q{get mainEl(){return document.querySelector(".ins-search")}get inputEl(){var t;return null==(t=this.mainEl)?void 0:t.querySelector(".ins-search-input")}get wrapperEl(){var t;return null==(t=this.mainEl)?void 0:t.querySelector(".ins-section-wrapper")}get containerEl(){var t;return null==(t=this.mainEl)?void 0:t.querySelector(".ins-section-container")}init(){this.buildFuse(),document.body.appendChild(this.mainEl),this.inputEl.addEventListener("keydown",t=>{switch(t.code){case"ArrowDown":this.markActive(this.getSelectedIndex()+1);break;case"ArrowUp":this.markActive(this.getSelectedIndex()-1);break;case"Enter":var e;let n=null==(e=document.querySelector(".ins-selectable.active"))?void 0:e.dataset.url;n&&this.gotoLink(n);break;case"Escape":this.closeWindow()}}),this.inputEl.addEventListener("input",()=>{Y(()=>{this.search()})}),document.addEventListener("keydown",t=>{let e=document.querySelector(":focus");(null==e?void 0:e.tagName)!=="TEXTAREA"&&(null==e?void 0:e.tagName)!=="INPUT"&&(this.showing||"s"===t.key&&Y(()=>this.openWindow()))}),document.addEventListener("click",t=>{t.target!==this.inputEl&&this.showing&&this.closeWindow()})}getSelectedIndex(){let t=-1;return document.querySelectorAll(".ins-selectable").forEach((e,n)=>{e.classList.contains("active")&&(t=n)}),t}markActive(t){let e=document.querySelectorAll(".ins-selectable");t=(t+Number(-2==t)+e.length)%e.length,e.forEach((e,n)=>{e.classList.remove("active"),n===t&&e.classList.add("active")})}gotoLink(t){tm(t),this.closeWindow()}makeSearchItem(t,e,n,i,r){return V("div",{class:"ins-selectable ins-search-item","data-url":r,onclick:()=>{this.gotoLink(r)}},V("header",null,V("i",{class:`fa fa-${t}`}),V("span",{class:"ins-title"},null!=e&&""!==e?e:this.config.translation.untitled),n&&n!==e?V("span",{class:"ins-slug"},n):null),i?V("p",{class:"ins-search-preview"},i):null)}makeSection(t,e){let n,i=this.config.translation[t];return 0===e.length?null:(n=e.map(e=>{var n;let i={};for(let[t,n]of Object.entries(e)){if("link"===t){i[t]=n;continue}i[t]=K(n)}for(let t of null!=(n="matches"in e?e.matches:null)?n:[]){if("link"===t.key||null==t.key)continue;let[n,r]=t.indices.reduce((t,e)=>t[1]-t[0]<e[1]-e[0]?e:t,[0,-1]);i[t.key]=K(e[t.key].slice(0,n))+"<mark>"+K(e[t.key].slice(n,r+1))+"</mark>"+K(e[t.key].slice(r+1)),"text"===t.key&&(i.text=i.text.slice(Math.max(n-20,0)))}return["posts","pages"].includes(t)?this.makeSearchItem("file",i.title,null,i.text.slice(0,150),i.link):["categories","tags"].includes(t)?this.makeSearchItem("categories"===t?"folder":"tag",i.name,i.slug,null,i.link):null}),V("section",{class:"ins-section"},V("header",{class:"ins-section-header"},i),n))}async buildFuse(){let t=await this.searchData.data();N.config.ignoreLocation=!0,N.config.includeMatches=!0,this.fuses.posts=new N(t.posts,{keys:["title","text","link"]}),this.fuses.pages=new N(t.pages,{keys:["title","text","link"]}),this.fuses.tags=new N(t.tags,{keys:["name","slug","link"]}),this.fuses.categories=new N(t.categories,{keys:["name","slug","link"]}),this.fuse_ok.value=!0}async getSearchResult(t){await this.fuse_ok.unitl(!0);let e=await this.searchData.data();return ty.map(i=>[i,t?this.fuses[i].search(t,{limit:5}).map(t=>n({},t,t.item)):e[i].slice(0,5)])}search(){let t=this.inputEl.value;this.getSearchResult(t).then(t=>{for(let[e,n]of(this.containerEl.innerHTML="",t)){let t=this.makeSection(e,n);t&&this.containerEl.appendChild(t)}})}selectItemByDiff(t){let e=this.containerEl.querySelectorAll(".ins-selectable"),n=-1;e.forEach((t,e)=>{if(t.classList.contains("active")){t.classList.remove("active"),n=e;return}});let i=(e.length+n+t)%e.length;e[i].classList.add("active")}openWindow(){this.mainEl.classList.add("animated","fadeIn","show"),this.mainEl.classList.remove("fadeOut"),this.inputEl.focus(),Y(()=>{this.inputEl.setSelectionRange(0,this.inputEl.value.length),this.showing=!0}),this.search()}closeWindow(){this.showing&&(this.mainEl.classList.add("fadeOut"),this.mainEl.classList.remove("fadeIn"),this.inputEl.blur(),this.showing=!1,setTimeout(()=>{this.mainEl.classList.remove("show")},400))}constructor(){super(),e(this,"searchData",void 0),e(this,"config",{}),e(this,"showing",!1),e(this,"fuses",{}),e(this,"fuse_ok",new q(!1)),this.searchData=new H("content.json")}},getPageTitle:tk,share:{native:async()=>{window.navigator.share({url:window.location.href,text:await tk(),title:await tk()})}},darkLightToggle:function(){var t;let e=null!=(t=document.querySelector("html").getAttribute("theme"))?t:"default";"default"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"true"),"dark"===e?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),tC()}};document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",t=>{var e,n;!function(t,e){let n=t;if(null==n)return null;for(;!0!=e(n);)if(null==(n=n.parentElement))return null;return n}(t.target,t=>null==t?void 0:t.classList.contains("btn-toggle-more"))?null==(n=document.querySelector(".nav_right_btn"))||n.classList.remove("expanded"):(t.preventDefault(),t.stopPropagation(),null==(e=document.querySelector(".nav_right_btn"))||e.classList.add("expanded"))})}),window.Anatolo=tD,window.Utils=J,new class extends Q{init(){document.addEventListener("scroll",()=>{var t,e;window.scrollY<200?null==(t=document.querySelector("#scroll-to-top.float-button"))||t.classList.add("hide"):null==(e=document.querySelector("#scroll-to-top.float-button"))||e.classList.remove("hide")})}}},"function"==typeof define&&define.amd?define(t):t();
